{"title":"Hexo迁移新版本的坑","date":"2019-12-29T23:28:03.000Z","date_formatted":{"ll":"Dec 30, 2019","L":"12/30/2019","MM-DD":"12-30"},"thumbnail":"https://i.loli.net/2019/12/30/XmIsFGcvLzAN5uo.png","link":"2019/12/30/迁移新版本的坑","comments":true,"tags":["Hexo","升级","博客"],"categories":["教程"],"updated":"2020-12-14T15:10:11.499Z","content":"<p>Hexo+Theme Inside主题建站两个月了，前几天发现hexo已经更新到4.2，想着更新一下，今天就来分享下笔者在迁移到新版本时遇到的问题。</p>\n<h1 id=\"准备工作\">准备工作<a title=\"#准备工作\" href=\"#准备工作\"></a></h1>\n<ol>\n<li>首先把原目录下所有文件备份，随后清空该文件夹。</li>\n</ol>\n<h1 id=\"更新hexo\">更新Hexo<a title=\"#更新hexo\" href=\"#更新hexo\"></a></h1>\n<ol start=\"2\">\n<li>打开Powershell输入如下命令全局更新hexo</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>回到原博客文件夹的上级目录</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> 上级目录的地址</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>初始化目录（注意blog替换成你原来文件夹的名字）</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init blog</span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li>进入文件夹，查看版本</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> blog</span><br><span class=\"line\">hexo version</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://i.loli.net/2019/12/30/wK253Tsv7bRhSaE.png\" alt=\"image.png\" loading=\"lazy\" class=\"φbp\"></p>\n<p>版本更新到4.2 (<em>^▽^</em>)</p>\n<blockquote>\n<p>我这里显示错误<br>\n<img src=\"https://i.loli.net/2019/12/30/wGp4NFiHQga2Eh3.png\" alt=\"image.png\" loading=\"lazy\"><br>\n解决方案 输入</p>\n</blockquote>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set-executionpolicy remotesigned</span><br></pre></td></tr></table></figure>\n<h1 id=\"迁移文件\">迁移文件<a title=\"#迁移文件\" href=\"#迁移文件\"></a></h1>\n<ol start=\"6\">\n<li>\n<p>复制备份好的文件夹中source到更新后的文件夹中</p>\n</li>\n<li>\n<p>根据原来的_config.yml配置新版本的_config.yml（偷懒直接覆盖可能会出错哦）</p>\n</li>\n<li>\n<p>复制主题文件夹到更新后的文件夹中</p>\n</li>\n<li>\n<p>生成静态文件并预览</p>\n</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g</span><br><span class=\"line\">hexo s</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>嘤嘤嘤又出错(╥╯^╰╥)<br>\n打开是空白啥子情况哦<br>\n清除一下重新生成？</p>\n</blockquote>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>找到你这个小婊砸了！<br>\n<img src=\"https://i.loli.net/2019/12/30/RUyYhd6iPoLa3W1.png\" alt=\"image.png\" loading=\"lazy\"><br>\n解决方案 安装cheerio</p>\n</blockquote>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install cheerio</span><br></pre></td></tr></table></figure>\n<p>安装完成后重新生成静态文件能正常显示啦233333~</p>\n<h1 id=\"部署\">部署<a title=\"#部署\" href=\"#部署\"></a></h1>\n<ol start=\"10\">\n<li>部署静态文件</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>他又出错了…<br>\n让我康康是怎么回事？<br>\n<img src=\"https://i.loli.net/2019/12/30/em8uzvZOGhLKcgt.png\" alt=\"image.png\" loading=\"lazy\"></p>\n</blockquote>\n<p><strong>夺 命 二 连</strong><br>\n不懂就问，百度之后尝试重新安装这个组件</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>\n<p>安装完成后重新部署，一切正常咯，嘿嘿😁</p>\n<p>11.合影留念</p>\n<p><img src=\"https://i.loli.net/2019/12/30/7M6euWPiyg94sTd.png\" alt=\"image.png\" loading=\"lazy\" class=\"φbp\"></p>\n<h1 id=\"写在最后\">写在最后<a title=\"#写在最后\" href=\"#写在最后\"></a></h1>\n<p>遇到问题不懂就问~<br>\n百度必应谷歌总有答案<br>\n数据一定要备份！一定要备份！要备份！<br>\n希望这篇文章能够帮到你~</p>\n","prev":{"title":"Promises第一章","link":"2020/01/06/PromisesChapter1"},"next":{"title":"小世界的管理者","link":"2019/12/30/小世界的管理者"},"plink":"http://wardzhou.art/2019/12/30/迁移新版本的坑/","toc":[{"id":"准备工作","title":"准备工作","index":"1"},{"id":"更新hexo","title":"更新Hexo","index":"2"},{"id":"迁移文件","title":"迁移文件","index":"3"},{"id":"部署","title":"部署","index":"4"},{"id":"写在最后","title":"写在最后","index":"5"}],"reward":true,"copyright":{"author":"白桦 Birch","license":"Attribution-NonCommercial-NoDerivatives 4.0 International(<a href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","updated":"December 14, 2020"},"reading_time":"522 words in 3 min"}